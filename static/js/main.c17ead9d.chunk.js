(this["webpackJsonpseguro-automotriz"]=this["webpackJsonpseguro-automotriz"]||[]).push([[0],{141:function(e,t,o){},248:function(e,t,o){"use strict";o.r(t);var a=o(0),c=o(26),r=o.n(c),n=(o(141),o(31)),s=o(6),l=Object(a.createContext)(),i=function(e){var t=e.children,o=Object(a.useState)(JSON.parse(localStorage.getItem("user"))||null),c=Object(n.a)(o,2),r=c[0],i=c[1];Object(a.useEffect)((function(){try{localStorage.setItem("user",JSON.stringify(r))}catch(e){localStorage.removeItem("user"),console.log(e)}}),[r]);var j={user:r,login:function(e){i(e)},logout:function(){i(null),localStorage.removeItem("user")},isLogged:function(){return!!r}};return console.log("desde auth provider "+JSON.stringify(r)),Object(s.jsx)(l.Provider,{value:j,children:t})},j=o(32),u=o.n(j),d=(o(142),Object(a.createContext)()),b=function(e){var t=e.children,o=Object(a.useState)(JSON.parse(localStorage.getItem("color"))||null),c=Object(n.a)(o,2),r=c[0],l=c[1],i=Object(a.useState)(JSON.parse(localStorage.getItem("placa"))||null),j=Object(n.a)(i,2),b=j[0],g=j[1],O=Object(a.useState)("Tipo 1"),m=Object(n.a)(O,2),f=m[0],h=m[1],x=Object(a.useState)("2021"),p=Object(n.a)(x,2),v=p[0],y=p[1],S=Object(a.useState)(u()().format("DD-MM-YYYY")),Y=Object(n.a)(S,2),T=Y[0],C=Y[1];Object(a.useEffect)((function(){try{localStorage.setItem("placa",JSON.stringify(b)),localStorage.setItem("tipo",JSON.stringify(f)),localStorage.setItem("year",JSON.stringify(v)),localStorage.setItem("ingreso",JSON.stringify(T))}catch(e){localStorage.removeItem("placa"),localStorage.removeItem("tipo"),localStorage.removeItem("year"),localStorage.removeItem("ingreso"),console.log(e)}}),[b,f,v,T]),Object(a.useEffect)((function(){try{localStorage.setItem("color",JSON.stringify(r))}catch(e){localStorage.removeItem("color"),console.log(e)}}),[r]);var I={color:r,verColor:function(e){l(e)},placa:b,verPlaca:function(e){g(e)},tipo:f,verTipo:function(e){h(e)},year:v,verYear:function(e){y(e)},ingreso:T,verIngreso:function(e){C(e)}};return console.log("desde info provider "+JSON.stringify(r)),console.log("desde info provider "+JSON.stringify(b)),console.log("desde info provider "+JSON.stringify(f)),console.log("desde info provider "+JSON.stringify(v)),Object(s.jsx)(d.Provider,{value:I,children:t})},g=o(42),O=o(27);function m(){return Object(a.useContext)(l)}var f=o(60),h=o(258),x=o(257),p=o(259),v=o(86),y=o(52),S=o(261),Y=o(46),T=(o(96),o(163)),C=o(253),I=o(254),F=o(138),D=x.a.Item;function P(e){return e<u()().subtract(1,"days")||0===u()(e).day()||6===u()(e).day()}function M(e,t){for(e=u()(e);t>0;)6!==(e=e.add(1,"days")).isoWeekday()&&7!==e.isoWeekday()&&(t-=1);return e}var J=u()(),N=M(J,7),w=function(){var e=Object(a.useState)(J),t=Object(n.a)(e,2),o=t[0],c=t[1],r=Object(a.useState)(N),l=Object(n.a)(r,2),i=l[0],j=l[1];Object(a.useEffect)((function(){o&&(c(o),console.log("prueba useEffect ingreso "+o.format("DD-MM-YYYY")))}),[o]),Object(a.useEffect)((function(){i&&(j(i),console.log("prueba useEffect retiro  "+i.format("DD-MM-YYYY")))}),[i]);return Object(s.jsxs)("div",{children:[Object(s.jsx)(C.a,{}),Object(s.jsxs)(D,{label:"Fecha de Ingreso",name:"fechaIngreso",rules:[{message:"Por favor ingresa la fecha de ingreso"}],children:[Object(s.jsx)(I.a,{format:"DD-MM-YYYY",locale:F.a,disabledDate:P,value:o,onChange:function(e){e?T.b.info("Fecha de ingreso: ".concat(e?e.format("DD-MM-YYYY"):"Ingrese Fecha")):T.b.info("Debes ingresar una fecha de ingreso"),c(e),j(M(e,7))}}),Object(s.jsx)("div",{style:{marginTop:16},children:o?"Fecha seleccionada: ".concat(o.format("DD-MM-YYYY")):"Debes ingresar una fecha"})]}),Object(s.jsx)(C.a,{}),Object(s.jsxs)(D,{label:"Fecha de retiro",name:"fechaRetiro",rules:[{message:"Por favor ingresa la fecha de retiro"}],children:[Object(s.jsx)(I.a,{format:"DD-MM-YYYY",locale:F.a,disabled:o?null:"disabled",disabledDate:function(e){return e<M(o,7)||0===u()(e).day()||6===u()(e).day()},onChange:function(e){T.b.info("Fecha de retiro: \n    ".concat(i?i.format("YYYY-MM-DD"):"Ingrese fecha de retiro")),j(e)},value:i}),Object(s.jsx)("div",{style:{marginTop:16},children:i?"Fecha seleccionada: ".concat(i.format("DD-MM-YYYY")):"Ingresa la fecha de retiro"})]}),Object(s.jsx)(C.a,{})]})},E=o(164),k=o(262),L=o(255),A=o(263),z=x.a.Item,q=function(){function e(e){return e.fileList.length}return Object(s.jsx)(k.b,{direction:"vertical",align:"center",size:"large",children:Object(s.jsx)(z,{name:"imagenes",children:Object(s.jsxs)(L.a,{action:"https://www.mocky.io/v2/5cc8019d300000980a055e76",onChange:function(t){console.log(" desde handleupload"+{images:e});var o=Object(E.a)(t.fileList);console.log(t.file.status);var a=o.length;console.log(a),3===a?console.log("Falta 1 foto por cargar"):2===a?console.log("Faltan 2 fotos por cargar"):1===a?console.log("Faltan 3 fotos por cargar"):console.log("Todas las fotos han sido cargadas")},listType:"picture",maxCount:4,multiple:!0,beforeUpload:function(e){var t="image/png"===e.type||"image/jpg"===e.type||"image/jpeg"===e.type;t||T.b.error("S\xf3lo puedes subir imagenes en formato JPG/PNG/JPEG");var o=e.size/1024/1024<2;return o||T.b.error("Image must smaller than 2MB!"),t&&o},children:[Object(s.jsx)("div",{style:{marginTop:16}}),Object(s.jsx)(Y.a,{icon:Object(s.jsx)(A.a,{}),style:{marginBottom:16},children:"Upload (4 Fotos)"})]})})})};function B(){return Object(a.useContext)(d)}var G=h.a.Text,H=h.a.Paragraph,U=x.a.Item,R=p.a.Option,W=function(){var e=Object(a.createRef)(),t=m(),o=Object(a.useState)(null),c=Object(n.a)(o,2),r=c[0],l=c[1],i=Object(a.useState)(null),j=Object(n.a)(i,2),u=j[0],d=j[1],b=Object(a.useState)(window.localStorage.getItem("color")),g=Object(n.a)(b,2),h=g[0],T=g[1],C=Object(a.useState)(null),I=Object(n.a)(C,2),F=I[0],D=I[1],P=Object(O.g)(),M=B();return M.color=h,M.placa=F,M.tipo=r,M.year=u,M.verColor(h),M.verPlaca(F),M.verTipo(r),M.verYear(u),Object(s.jsx)("div",{children:Object(s.jsxs)(v.a,{children:[Object(s.jsx)(y.a,{xs:1,sm:2,md:6,lg:7}),Object(s.jsxs)(y.a,{xs:22,sm:20,md:12,lg:10,children:[t.user?Object(s.jsxs)(s.Fragment,{children:["Hola,",Object(s.jsxs)(G,{type:"success",children:[" ",t.user]}),Object(s.jsx)("br",{}),Object(s.jsx)(H,{children:" Por favor completa el siguiente formulario"})]}):"",Object(s.jsxs)(x.a,Object(f.a)(Object(f.a)({style:{marginTop:30},initialValues:{tipos:"Tipo 1","a\xf1o":"2021"},name:"formulario",onFinish:function(e){console.log("Formulario enviado exitosamente",e),P.push({pathname:"/resumen"})},onFinishFailed:function(e){console.log("Error",e)},ref:e},{labelCol:{xs:{span:12},sm:{span:8}},wrapperCol:{xs:{span:4},sm:{span:20}}}),{},{children:[Object(s.jsx)(U,{label:"Tipo de veh\xedculo",name:"tipos",children:Object(s.jsxs)(p.a,{autoFocus:!0,onChange:function(e){l(e),console.log(e)},children:[Object(s.jsx)(R,{value:"Tipo 1",children:"Tipo 1"}),Object(s.jsx)(R,{value:"Tipo 2",children:"Tipo 2"}),Object(s.jsx)(R,{value:"Tipo 3",children:"Tipo 3"})]})}),Object(s.jsx)(U,{label:"A\xf1o",name:"a\xf1o",children:Object(s.jsxs)(p.a,{onChange:function(e){d(e),console.log(e)},children:[Object(s.jsx)(R,{value:"2021",children:"2021"}),Object(s.jsx)(R,{value:"2020",children:"2020"}),Object(s.jsx)(R,{value:"2019",children:"2019"}),Object(s.jsx)(R,{value:"2018",children:"2018"}),Object(s.jsx)(R,{value:"2017",children:"2017"}),Object(s.jsx)(R,{value:"2016",children:"2016"}),Object(s.jsx)(R,{value:"2015",children:"2015"}),Object(s.jsx)(R,{value:"2014",children:"2014"})]})}),Object(s.jsx)(U,{label:"Color",name:"color",rules:[{required:!0,message:"Por favor ingresa el color del veh\xedculo"}],children:Object(s.jsx)(S.a,{placeholder:"Ingresa Color del veh\xedculo",onChange:function(e){var t=e.target.value;console.log(t),T(t),M.verColor(h)},value:h})}),Object(s.jsx)(U,{label:"Placa",name:"placa",value:F,rules:[{required:!0,message:"Por favor ingresa la placa del veh\xedculo"}],children:Object(s.jsx)(S.a,{placeholder:"Ingresa Placa del veh\xedculo",onChange:function(e){var t=e.target.value;console.log(t),D(t)}})}),Object(s.jsx)(w,{}),Object(s.jsx)(q,{}),Object(s.jsx)(U,{style:{marginTop:16,alignContent:"center"},children:Object(s.jsx)(Y.a,{type:"submit",htmlType:"submit",style:{background:"royalblue",color:"white"},children:"Enviar"})})]}))]}),Object(s.jsx)(y.a,{xs:1,sm:2,md:6,lg:7})]})})},V=function(){return Object(s.jsxs)("div",{children:["Favor",Object(s.jsxs)(g.b,{to:"/formulario",children:[" "," "," Acceder "," "]}),"al formulario"]})},K=o(260),Q=o(264),X=o(265),Z=h.a.Title,$=x.a.Item,_=function(){var e=Object(a.useState)(null),t=Object(n.a)(e,2),o=t[0],c=t[1],r=Object(a.useState)(null),l=Object(n.a)(r,2),i=l[0],j=l[1],u=Object(O.g)(),d=m(),b=function(){o&&i&&(console.log({user:o},{password:i}),setTimeout((function(){!function(){var e=K.a.info({title:"Tiempo de sesi\xf3n",okText:"Entendido",content:"Tienes 15 minutos para enviar el formulario"});setTimeout((function(){e.destroy()}),4e3)}()}),1e3),setTimeout((function(){window.localStorage.removeItem("user")}),9e5),d.user=o,console.log("desde login "+d.user),d.login(o),u.push({pathname:"/formulario"}))};return Object(s.jsx)("div",{className:"App",children:Object(s.jsxs)(v.a,{children:[Object(s.jsx)(y.a,{xs:2,sm:6,md:8}),Object(s.jsxs)(y.a,{xs:20,sm:12,md:8,children:[Object(s.jsx)(Z,{style:{color:"goldenrod"},level:2,children:" Login "}),Object(s.jsx)(C.a,{}),Object(s.jsxs)(x.a,{name:"login",onFinish:function(e){console.log("Formulario enviado exitosamente",e)},onFinishFailed:function(e){console.log("Error",e)},children:[Object(s.jsx)($,{name:"usuario",value:o,rules:[{required:!0,message:"Por favor, ingresa tu nombre de usuario"}],children:Object(s.jsx)(S.a,{prefix:Object(s.jsx)(Q.a,{}),placeholder:"Usuario",autoFocus:!0,onChange:function(e){var t=e.target.value;console.log(t),c(t)}})}),Object(s.jsx)($,{name:"password",rules:[{required:!0,message:"Por favor, ingresa tu contrase\xf1a"}],children:Object(s.jsx)(S.a,{prefix:Object(s.jsx)(X.a,{}),type:"password",value:i,placeholder:"Contrase\xf1a",onChange:function(e){var t=e.target.value;console.log(t),j(t)}})}),Object(s.jsx)($,{children:Object(s.jsx)(Y.a,{type:"primary",className:"login-form-button",htmlType:"submit",onClick:function(){b()},children:"Entrar"})})]})]}),Object(s.jsx)(y.a,{xs:2,sm:6,md:6})]})})},ee=function(){return Object(s.jsx)("div",{children:"P\xe1gina no encontrada"})},te=o(120),oe=["component"];function ae(e){var t=e.component,o=Object(te.a)(e,oe),a=m();return Object(s.jsx)(O.b,Object(f.a)(Object(f.a)({},o),{},{children:a.isLogged()?Object(s.jsx)(t,{}):Object(s.jsx)(O.a,{to:"/login"})}))}var ce=["component"];function re(e){var t=e.component,o=Object(te.a)(e,ce),a=m();return Object(s.jsx)(O.b,Object(f.a)(Object(f.a)({},o),{},{children:a.isLogged()?Object(s.jsx)(O.a,{to:"/formulario"}):Object(s.jsx)(t,{})}))}var ne=o(256),se=h.a.Text,le=h.a.Paragraph,ie=function(){var e=m().user,t=B(),o=t.color,a=t.tipo,c=t.year,r=t.placa,n=Object(O.g)();return Object(s.jsx)("div",{children:Object(s.jsxs)(s.Fragment,{children:["Estimad@",Object(s.jsxs)(se,{type:"success",style:{marginTop:20},children:[" ",e]}),Object(s.jsx)("br",{}),Object(s.jsx)(le,{style:{marginTop:20},children:"Los datos ingresados son los siguientes:"}),Object(s.jsx)(le,{children:"Color: ".concat(o)}),Object(s.jsx)(le,{children:"A\xf1o: ".concat(c)}),Object(s.jsx)(le,{children:"Placa: ".concat(r)}),Object(s.jsx)(le,{children:"Tipo: ".concat(a)}),Object(s.jsx)(Y.a,{type:"success",size:"large",style:{background:"royalblue"},onClick:function(){n.push({pathname:"/final"})},children:"Confirmar datos ingresados"})]})})},je=o(159),ue=o(266),de=function(){var e=m().user,t=B(),o=t.color,a=t.tipo,c=t.year,r=t.placa;console.log("desde FilePdf "+e);return Object(s.jsx)("div",{children:Object(s.jsx)(Y.a,{onClick:function(){return function(){var t=new je.a;t.setTextColor(150),t.text("Hola, ".concat(e,". Estos son los datos ingresados para acceder"),14,10),t.text("al seguro ",10,20),t.text("color: ".concat(o," "),10,40),t.text("Placa: ".concat(r," "),10,50),t.text("Tipo: ".concat(a," "),10,60),t.text("A\xf1o: ".concat(c," "),10,70),t.save("SeguroAutomotriz.pdf")}()},icon:Object(s.jsx)(ue.a,{}),style:{marginTop:20,background:"goldenrod",color:"white"},children:"Descargar Comprobante PDF"})})},be=function(){return Object(s.jsxs)("div",{children:["Final, ya puedes descargar tu comprobante de solicitud",Object(s.jsx)(de,{})]})},ge=function(){var e=m();return Object(s.jsxs)(g.a,{children:[Object(s.jsx)(ne.a,{style:{marginTop:2,backgroundColor:"goldenrod",color:"lightseagreen"},type:"inner",title:"Seguro Automotriz",extra:e.isLogged()&&Object(s.jsx)(Y.a,{style:{background:"indianred",color:"white"},onClick:e.logout,children:"logout"})}),Object(s.jsxs)("div",{children:[!e.isLogged()&&Object(s.jsxs)("div",{style:{display:"none"},children:[Object(s.jsx)(g.b,{to:"/",children:"Home"}),Object(s.jsx)(g.b,{to:"/login",children:"login"}),Object(s.jsx)(g.b,{to:"/formulario",children:"formulario"})]}),Object(s.jsxs)(O.d,{children:[Object(s.jsx)(ae,{exact:!0,path:"/formulario",component:W}),Object(s.jsx)(re,{exact:!0,path:"/login",component:_}),Object(s.jsx)(O.b,{exact:!0,path:"/",component:V}),Object(s.jsx)(O.b,{exact:!0,path:"/resumen",component:ie}),Object(s.jsx)(O.b,{exact:!0,path:"/final",component:be}),Object(s.jsx)(O.b,{path:"*",component:ee})]})]})]})};var Oe=function(){return Object(s.jsx)("div",{className:"App",children:Object(s.jsx)(i,{children:Object(s.jsx)(b,{children:Object(s.jsx)(ge,{})})})})};r.a.render(Object(s.jsx)(Oe,{}),document.getElementById("root"))}},[[248,1,3]]]);
//# sourceMappingURL=main.c17ead9d.chunk.js.map